10:32 才开始打记录。很惭愧。

9:30 对拍过了 T2。

个人觉得的难度排序：

T4 > T3 > T1 > T2

在 T1 中可以发现如下关系：

接至多 $k$ 个在 $i$ 层的人所付出的额外代价是：

$$(i - 1) \times (Sum + \max(0, Sum - min(k, cnt[i])))$$

注意到每个人都有一个固定的代价 $i$ 即层数，先把这个抛开。

可以认为每个人在上电梯后就不会做出贡献了。

考虑维护上述式子。

每次接一层的人都会使得 $Sum \gets \max(0, Sum - min(k, cnt[i]))$。

不是一个好性质。因为常数的变化可能需要重构堆/平衡树。

这就出现了高贵的 $O(n^2\log n)$ 做法。

接完人过后修改点然后 `sort` 即可做到。

可以获得高贵的 $48pts$。

考虑 $k = n$ 的特殊性质。

即每次删除点后就不会再次加入。

发现影响了 $Sum$ 过后可能需要 DP，做法假了。

逆天。题意理解错了。更假了。
