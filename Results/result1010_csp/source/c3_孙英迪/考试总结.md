$[8 : 06]$ 看完题目。

先看看T2。

注意到询问 $K = 1000$，考虑暴力处理询问。

对于每一行考虑她被哪些列所算了多次贡献。

这样就做完了。

$[8 : 42]$ 唐了，调了半天。

$[8 : 50]$ 看T4，显然的套路，考虑去枚举 $mex$。

显然不能简单的用 $mex$ 的性质来做，因为若当前 $\le mex$ 的数 $> mex$ 个，你无法确定剩下的数有哪些选什么。

$[9 : 13]$ 目前想不到别的思路。先看T1.

最优性问题。

套路地想。考虑一种最优的序列。

以 $k$ 个为一组，显然最优。

那么考虑交换两组中的两个元素。

设每块的最大值为 $bk_i$, 次大值为 $ck_i$

$a$ 为 $i$ 所在的块，$b$ 为 $j$ 所在的块。

$s_i$ 为 $i$ 的楼层。

$sum_i = \sum_{i' = 1} ^ {i} bk_i$

- $i$ 为 $bk_a$。

$sum_imax(bk_b, s_i) + max(ck_a, s_j) + sum$

，，，太复杂了，考虑简化问题。

没有很好的思路，考虑摸一下样例。

结论有问题，并不是每次以 $k$ 个人为最优序列。

$[9 : 39]$ 考虑新加入一个人 $s_i$，当前的最大值 $maxn$，目前的人数 $k$。

如果 $s_i \le maxn$ 不做贡献。

否则答案为 $s_i * (k + 1), maxn * k + s_i$

考虑贪心排个序算一遍（

$[9 : 49]$ lc 说T1子任务改一下，显然是不可做的题。不难发现，该题需要放弃。

考虑把每一行的状态压下来。

考虑每一行是否反转.

$[10 : 13]$ 不好将序列的贡献变成一个数；哈希？

$[10 : 49]$ 想到一个很唐的结论（

随便找一列，翻成0，然后计算答案（

$[11 : 04]$ 想了 $1.2h$ 了，果然还是放了。

$[11 : 21]$ T4 考虑这样一个dp，$f_{ij}$ 表示 $mex$ 为 $i$ 最后当 $mex$ 的为 $j$。

呜呜呜没法去重/。

考虑对于每一行附上一个质数，就是gcd的质因子个数，就是答案。

？？？我咋想的，这不还是没法扔掉吗？
